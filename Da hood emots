    lean = 3152375249,
    lay = 3152378852,
    dance1 = 3189773368,
    dance2 = 3189776546,
    greet = 3189777795,
    praying = 3487719500,
}

local active = {}

local player = game.Players.LocalPlayer
chatcon = player.Chatted:Connect(function(msg)
    msg = string.lower(msg)
    
    local separate = string.sub(msg,1,3)
    if separate == "/e " then
        local cmd = string.sub(msg,4,string.len(msg))
        
        if emotes[cmd] then
            for i,v in pairs(active) do
                v:Stop(0.1)
                active[i] = nil
            end
            
            local Anim = Instance.new("Animation")
            Anim.AnimationId = "rbxassetid://"..emotes[cmd]
            
            player.Character.Animate.Disabled = true
            local toplay = player.Character.Humanoid.Animator:LoadAnimation(Anim)
            toplay:Play(0.1,1,1)
            
            active[cmd] = toplay
            con = player.Character.Humanoid.Running:connect(function(speed)
                if speed > 0.5 then
                    player.Character.Animate.Disabled = false
                    toplay:Stop(0.1)
                    active[cmd] = nil
                    con:Disconnect()
                end
            end)
            jumpcon = player.Character.Humanoid.Jumping:connect(function()
                player.Character.Animate.Disabled = false
                toplay:Stop(0.1)
                active[cmd] = nil
                jumpcon:Disconnect()
            end)
        elseif cmd == "disable" then
            for i,v in pairs(active) do
                v:Stop(0.1)
            end
            
            chatcon:Disconnect()
        end
    end
end)

local toprint = "List of commands:\n"
for i,v in pairs(emotes) do
    toprint ..= "/e ".. i.. "\n"
end
print(toprint)
